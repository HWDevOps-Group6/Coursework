{
  "info": {
    "_postman_id": "f9b641fd-1ef0-4597-a7a8-453dda11e5ca",
    "name": "Testing Coursework",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
  },
  "item": [
    {
      "name": "Check Auth Service Health",
      "event": [
        {
          "listen": "test",
          "script": {
            "id": "0effb736-1371-4b33-bb0c-a9433ea0a315",
            "exec": [
              "pm.test(\"Status code is 200\", function () {",
              "    pm.response.to.have.status(200);",
              "});"
            ],
            "type": "text/javascript",
            "packages": {},
            "requests": {}
          }
        }
      ],
      "id": "e01af24c-dad0-4271-b12e-a946d81dea38",
      "protocolProfileBehavior": {
        "disableBodyPruning": true
      },
      "request": {
        "method": "GET",
        "header": [],
        "url": {
          "raw": "{{auth_url}}/health",
          "host": [
            "{{auth_url}}"
          ],
          "path": [
            "health"
          ]
        }
      },
      "response": []
    },
    {
      "name": "Check Gateway Service health",
      "event": [
        {
          "listen": "test",
          "script": {
            "id": "0effb736-1371-4b33-bb0c-a9433ea0a315",
            "exec": [
              "pm.test(\"Status code is 200\", function () {",
              "    pm.response.to.have.status(200);",
              "});"
            ],
            "type": "text/javascript",
            "packages": {},
            "requests": {}
          }
        },
        {
          "listen": "prerequest",
          "script": {
            "id": "7de8982a-32a6-4b57-8294-592fbf632c42",
            "exec": [
              ""
            ],
            "type": "text/javascript",
            "packages": {},
            "requests": {}
          }
        }
      ],
      "id": "bf2b72d1-dc11-4b56-b091-610bb97d233d",
      "protocolProfileBehavior": {
        "disableBodyPruning": true
      },
      "request": {
        "method": "GET",
        "header": [],
        "url": {
          "raw": "{{gateway_url}}/health",
          "host": [
            "{{gateway_url}}"
          ],
          "path": [
            "health"
          ]
        }
      },
      "response": []
    },
    {
      "name": "Check Patient Registration Health",
      "event": [
        {
          "listen": "test",
          "script": {
            "id": "0effb736-1371-4b33-bb0c-a9433ea0a315",
            "exec": [
              "pm.test(\"Status code is 200\", function () {",
              "    pm.response.to.have.status(200);",
              "});"
            ],
            "type": "text/javascript",
            "packages": {},
            "requests": {}
          }
        },
        {
          "listen": "prerequest",
          "script": {
            "id": "58ad9cdb-56a4-46bc-a329-40d50a329723",
            "exec": [
              ""
            ],
            "type": "text/javascript",
            "packages": {},
            "requests": {}
          }
        }
      ],
      "id": "2d17e758-8269-40ff-8e84-7398a22d7273",
      "protocolProfileBehavior": {
        "disableBodyPruning": true
      },
      "request": {
        "method": "GET",
        "header": [],
        "url": {
          "raw": "{{patient_reg_url}}/health",
          "host": [
            "{{patient_reg_url}}"
          ],
          "path": [
            "health"
          ]
        }
      },
      "response": []
    },
    {
      "name": "Check Diagnostics+Vitals Health",
      "event": [
        {
          "listen": "test",
          "script": {
            "id": "0effb736-1371-4b33-bb0c-a9433ea0a315",
            "exec": [
              "pm.test(\"Status code is 200\", function () {",
              "    pm.response.to.have.status(200);",
              "});"
            ],
            "type": "text/javascript",
            "packages": {},
            "requests": {}
          }
        },
        {
          "listen": "prerequest",
          "script": {
            "id": "58ad9cdb-56a4-46bc-a329-40d50a329723",
            "exec": [
              ""
            ],
            "type": "text/javascript",
            "packages": {},
            "requests": {}
          }
        }
      ],
      "id": "fba8415d-5415-4bbf-a4d1-54a8b8b740e0",
      "protocolProfileBehavior": {
        "disableBodyPruning": true
      },
      "request": {
        "method": "GET",
        "header": [],
        "url": {
          "raw": "{{diagnostics_vitals_url}}/health",
          "host": [
            "{{diagnostics_vitals_url}}"
          ],
          "path": [
            "health"
          ]
        }
      },
      "response": []
    },
    {
      "name": "Register Doctor",
      "event": [
        {
          "listen": "prerequest",
          "script": {
            "id": "72b7fcf3-33ec-4d17-bb57-cf95d922f91e",
            "exec": [
              "const unique = `${Date.now()}-${Math.floor(Math.random() * 10000)}`;",
              "pm.collectionVariables.set(\"doctor_register_email\", `doctor.${unique}@hospital.com`);"
            ],
            "type": "text/javascript",
            "packages": {},
            "requests": {}
          }
        },
        {
          "listen": "test",
          "script": {
            "id": "194fe8a3-85ea-4e9d-ab2c-359f12168f75",
            "exec": [
              "pm.test(\"Status code is 201\", function () {",
              "    pm.response.to.have.status(201);",
              "});",
              "const json = pm.response.json();",
              "pm.test(\"Doctor registered successfully\", function () {",
              "    pm.expect(json.success).to.eql(true);",
              "    pm.expect(json.data.user.role).to.eql(\"doctor\");",
              "    pm.expect(json.data.user.email).to.eql(pm.collectionVariables.get(\"doctor_register_email\"));",
              "    pm.expect(json.data.token).to.be.a(\"string\").and.not.empty;",
              "});",
              "pm.collectionVariables.set(\"doctor_register_token\", json.data.token);"
            ],
            "type": "text/javascript",
            "packages": {},
            "requests": {}
          }
        }
      ],
      "id": "be9efd8c-5d3f-426f-b395-2f11885ad8d2",
      "protocolProfileBehavior": {
        "disableBodyPruning": true
      },
      "request": {
        "method": "POST",
        "header": [],
        "body": {
          "mode": "raw",
          "raw": "{\n  \"email\": \"{{doctor_register_email}}\",\n  \"password\": \"SecurePass123!\",\n  \"firstName\": \"Test\",\n  \"lastName\": \"Doctor\",\n  \"role\": \"doctor\",\n  \"phoneNumber\": \"0500000001\",\n  \"department\": \"General Medicine\"\n}",
          "options": {
            "raw": {
              "language": "json"
            }
          }
        },
        "url": {
          "raw": "{{gateway_url}}/api/auth/register",
          "host": [
            "{{gateway_url}}"
          ],
          "path": [
            "api",
            "auth",
            "register"
          ]
        }
      },
      "response": []
    },
    {
      "name": "Register Nurse",
      "event": [
        {
          "listen": "prerequest",
          "script": {
            "id": "6674d95f-1cc6-4f13-bcf5-4eb72734975b",
            "exec": [
              "const unique = `${Date.now()}-${Math.floor(Math.random() * 10000)}`;",
              "pm.collectionVariables.set(\"nurse_register_email\", `nurse.${unique}@hospital.com`);"
            ],
            "type": "text/javascript",
            "packages": {},
            "requests": {}
          }
        },
        {
          "listen": "test",
          "script": {
            "id": "ec2d84c3-e756-4cb1-960a-1f1de1158e1d",
            "exec": [
              "pm.test(\"Status code is 201\", function () {",
              "    pm.response.to.have.status(201);",
              "});",
              "const json = pm.response.json();",
              "pm.test(\"Nurse registered successfully\", function () {",
              "    pm.expect(json.success).to.eql(true);",
              "    pm.expect(json.data.user.role).to.eql(\"nurse\");",
              "    pm.expect(json.data.user.email).to.eql(pm.collectionVariables.get(\"nurse_register_email\"));",
              "    pm.expect(json.data.token).to.be.a(\"string\").and.not.empty;",
              "});",
              "pm.collectionVariables.set(\"nurse_register_token\", json.data.token);"
            ],
            "type": "text/javascript",
            "packages": {},
            "requests": {}
          }
        }
      ],
      "id": "2f23e6af-2ea7-496e-8f4a-4798cf6be57c",
      "protocolProfileBehavior": {
        "disableBodyPruning": true
      },
      "request": {
        "method": "POST",
        "header": [],
        "body": {
          "mode": "raw",
          "raw": "{\n  \"email\": \"{{nurse_register_email}}\",\n  \"password\": \"SecurePass123!\",\n  \"firstName\": \"Test\",\n  \"lastName\": \"Nurse\",\n  \"role\": \"nurse\",\n  \"phoneNumber\": \"0500000002\",\n  \"department\": \"Nursing\"\n}",
          "options": {
            "raw": {
              "language": "json"
            }
          }
        },
        "url": {
          "raw": "{{gateway_url}}/api/auth/register",
          "host": [
            "{{gateway_url}}"
          ],
          "path": [
            "api",
            "auth",
            "register"
          ]
        }
      },
      "response": []
    },
    {
      "name": "Register Clerk",
      "event": [
        {
          "listen": "prerequest",
          "script": {
            "id": "59af50a5-95a4-4b73-9134-c4f8e3f01d2b",
            "exec": [
              "const unique = `${Date.now()}-${Math.floor(Math.random() * 10000)}`;",
              "pm.collectionVariables.set(\"clerk_register_email\", `clerk.${unique}@hospital.com`);"
            ],
            "type": "text/javascript",
            "packages": {},
            "requests": {}
          }
        },
        {
          "listen": "test",
          "script": {
            "id": "0f6cd30c-5908-4154-a66f-9fe4900d5861",
            "exec": [
              "pm.test(\"Status code is 201\", function () {",
              "    pm.response.to.have.status(201);",
              "});",
              "const json = pm.response.json();",
              "pm.test(\"Clerk registered successfully\", function () {",
              "    pm.expect(json.success).to.eql(true);",
              "    pm.expect(json.data.user.role).to.eql(\"clerk\");",
              "    pm.expect(json.data.user.email).to.eql(pm.collectionVariables.get(\"clerk_register_email\"));",
              "    pm.expect(json.data.token).to.be.a(\"string\").and.not.empty;",
              "});",
              "pm.collectionVariables.set(\"clerk_register_token\", json.data.token);"
            ],
            "type": "text/javascript",
            "packages": {},
            "requests": {}
          }
        }
      ],
      "id": "fcae2586-b668-48ec-8f4f-00fbf2425f4f",
      "protocolProfileBehavior": {
        "disableBodyPruning": true
      },
      "request": {
        "method": "POST",
        "header": [],
        "body": {
          "mode": "raw",
          "raw": "{\n  \"email\": \"{{clerk_register_email}}\",\n  \"password\": \"SecurePass123!\",\n  \"firstName\": \"Test\",\n  \"lastName\": \"Clerk\",\n  \"role\": \"clerk\",\n  \"phoneNumber\": \"0500000003\",\n  \"department\": \"Front Desk\"\n}",
          "options": {
            "raw": {
              "language": "json"
            }
          }
        },
        "url": {
          "raw": "{{gateway_url}}/api/auth/register",
          "host": [
            "{{gateway_url}}"
          ],
          "path": [
            "api",
            "auth",
            "register"
          ]
        }
      },
      "response": []
    },
    {
      "name": "Logging in as a Doctor",
      "event": [
        {
          "listen": "test",
          "script": {
            "id": "bc8e46c3-e2cf-4576-b476-747b2cc06a5e",
            "exec": [
              "pm.test(\"Successful POST request\", function () {",
              "    pm.expect(pm.response.code).to.be.oneOf([200, 201]);",
              "});",
              ""
            ],
            "type": "text/javascript",
            "packages": {},
            "requests": {}
          }
        },
        {
          "listen": "prerequest",
          "script": {
            "id": "f99b81b9-c6ee-4938-9950-05366f88748f",
            "exec": [
              ""
            ],
            "type": "text/javascript",
            "packages": {},
            "requests": {}
          }
        }
      ],
      "id": "501d84cc-7f39-4439-a4f7-de6b174d73be",
      "protocolProfileBehavior": {
        "disableBodyPruning": true
      },
      "request": {
        "method": "POST",
        "header": [],
        "body": {
          "mode": "raw",
          "raw": "{\n  \"email\": \"{{doctor_register_email}}\",\n  \"password\": \"SecurePass123!\"\n}",
          "options": {
            "raw": {
              "language": "json"
            }
          }
        },
        "url": {
          "raw": "{{gateway_url}}/api/auth/login",
          "host": [
            "{{gateway_url}}"
          ],
          "path": [
            "api",
            "auth",
            "login"
          ]
        }
      },
      "response": []
    },
    {
      "name": "Logging in as a Clerk",
      "event": [
        {
          "listen": "test",
          "script": {
            "id": "bc8e46c3-e2cf-4576-b476-747b2cc06a5e",
            "exec": [
              "pm.test(\"Successful POST request\", function () {",
              "    pm.expect(pm.response.code).to.be.oneOf([200, 201]);",
              "});",
              ""
            ],
            "type": "text/javascript",
            "packages": {},
            "requests": {}
          }
        },
        {
          "listen": "prerequest",
          "script": {
            "id": "79b35960-8e7e-41e3-a281-cc6d61816cca",
            "exec": [
              ""
            ],
            "type": "text/javascript",
            "packages": {},
            "requests": {}
          }
        }
      ],
      "id": "757fd3f7-5db6-4970-a5da-0b2915c2286e",
      "protocolProfileBehavior": {
        "disableBodyPruning": true
      },
      "request": {
        "method": "POST",
        "header": [],
        "body": {
          "mode": "raw",
          "raw": "{\n  \"email\": \"{{clerk_register_email}}\",\n  \"password\": \"SecurePass123!\"\n}",
          "options": {
            "raw": {
              "language": "json"
            }
          }
        },
        "url": {
          "raw": "{{gateway_url}}/api/auth/login",
          "host": [
            "{{gateway_url}}"
          ],
          "path": [
            "api",
            "auth",
            "login"
          ]
        }
      },
      "response": []
    },
    {
      "name": "Logging in as a Nurse",
      "event": [
        {
          "listen": "test",
          "script": {
            "id": "bc8e46c3-e2cf-4576-b476-747b2cc06a5e",
            "exec": [
              "pm.test(\"Successful POST request\", function () {",
              "    pm.expect(pm.response.code).to.be.oneOf([200, 201]);",
              "});",
              ""
            ],
            "type": "text/javascript",
            "packages": {},
            "requests": {}
          }
        },
        {
          "listen": "prerequest",
          "script": {
            "id": "df096ddd-1643-4e1a-98fc-1182ca8fb86d",
            "exec": [
              ""
            ],
            "type": "text/javascript",
            "packages": {},
            "requests": {}
          }
        }
      ],
      "id": "256a4051-ccc9-4ce7-9fd8-538627e65012",
      "protocolProfileBehavior": {
        "disableBodyPruning": true
      },
      "request": {
        "method": "POST",
        "header": [],
        "body": {
          "mode": "raw",
          "raw": "{\n  \"email\": \"{{nurse_register_email}}\",\n  \"password\": \"SecurePass123!\"\n}",
          "options": {
            "raw": {
              "language": "json"
            }
          }
        },
        "url": {
          "raw": "{{gateway_url}}/api/auth/login",
          "host": [
            "{{gateway_url}}"
          ],
          "path": [
            "api",
            "auth",
            "login"
          ]
        }
      },
      "response": []
    },
    {
      "name": "Checking Profile",
      "event": [
        {
          "listen": "test",
          "script": {
            "id": "9995b4e3-c9d3-4867-9e13-404be79a5dcc",
            "exec": [
              "pm.test(\"Successful PUT request\", function () {",
              "    pm.expect(pm.response.code).to.be.oneOf([200, 201, 204]);",
              "});",
              ""
            ],
            "type": "text/javascript",
            "packages": {},
            "requests": {}
          }
        },
        {
          "listen": "prerequest",
          "script": {
            "id": "50f270c5-8a0b-401b-8d1f-f62feb2e82de",
            "exec": [
              ""
            ],
            "type": "text/javascript",
            "packages": {},
            "requests": {}
          }
        }
      ],
      "id": "baf67ed1-f2e7-4e06-93dc-f2f8690e74ee",
      "protocolProfileBehavior": {
        "disableBodyPruning": true
      },
      "request": {
        "auth": {
          "type": "bearer",
          "bearer": [
            {
              "key": "token",
              "value": "{{doctor_register_token}}",
              "type": "string"
            }
          ]
        },
        "method": "GET",
        "header": [],
        "body": {
          "mode": "raw",
          "raw": "{\n\t\"name\": \"Add your name in the body\"\n}",
          "options": {
            "raw": {
              "language": "json"
            }
          }
        },
        "url": {
          "raw": "{{gateway_url}}/api/auth/me",
          "host": [
            "{{gateway_url}}"
          ],
          "path": [
            "api",
            "auth",
            "me"
          ]
        }
      },
      "response": []
    },
    {
      "name": "Registering patient",
      "event": [
        {
          "listen": "test",
          "script": {
            "id": "bc8e46c3-e2cf-4576-b476-747b2cc06a5e",
            "exec": [
              "pm.test(\"Successful POST request\", function () {",
              "    pm.expect(pm.response.code).to.be.oneOf([200, 201]);",
              "});",
              "const json = pm.response.json();",
              "if (json && json.data && json.data.id) {",
              "    pm.collectionVariables.set(\"diag_patient_id\", json.data.id);",
              "}"
            ],
            "type": "text/javascript",
            "packages": {},
            "requests": {}
          }
        },
        {
          "listen": "prerequest",
          "script": {
            "id": "7a33c520-7814-4b07-8649-46a42aacb1d5",
            "exec": [
              ""
            ],
            "type": "text/javascript",
            "packages": {},
            "requests": {}
          }
        }
      ],
      "id": "9a03c967-77a7-44fd-8d31-8e21782e4d0e",
      "protocolProfileBehavior": {
        "disableBodyPruning": true
      },
      "request": {
        "auth": {
          "type": "bearer",
          "bearer": [
            {
              "key": "token",
              "value": "{{vault:clerk_auth}}",
              "type": "string"
            }
          ]
        },
        "method": "POST",
        "header": [],
        "body": {
          "mode": "raw",
          "raw": "{\n  \"firstName\": \"Sick\",\n  \"lastName\": \"boi\",\n  \"emiratesId\": \"123456789012347\",\n  \"dateOfBirth\": \"1990-04-12\",\n  \"gender\": \"male\",\n  \"phoneNumber\": \"1234567890\",\n  \"address\": \"12 Example Street\",\n  \"knownDiseases\": [\"asthma\"],\n  \"complaints\": [\"headache\"],\n  \"entryRoute\": \"OPD\",\n  \"servicePoint\": \"Outpatient Department\"\n}",
          "options": {
            "raw": {
              "language": "json"
            }
          }
        },
        "url": {
          "raw": "{{gateway_url}}/api/patients/register",
          "host": [
            "{{gateway_url}}"
          ],
          "path": [
            "api",
            "patients",
            "register"
          ]
        }
      },
      "response": []
    },
    {
      "name": "Retrieve Patient Record By ID",
      "event": [
        {
          "listen": "test",
          "script": {
            "id": "bc8e46c3-e2cf-4576-b476-747b2cc06a5e",
            "exec": [
              "pm.test(\"Successful POST request\", function () {",
              "    pm.expect(pm.response.code).to.be.oneOf([200, 201]);",
              "});",
              ""
            ],
            "type": "text/javascript",
            "packages": {},
            "requests": {}
          }
        },
        {
          "listen": "prerequest",
          "script": {
            "id": "cfebb88c-0539-4712-9107-ac94c8882ef0",
            "exec": [
              ""
            ],
            "type": "text/javascript",
            "packages": {},
            "requests": {}
          }
        }
      ],
      "id": "c9345014-23ae-4a00-91ed-72a3a0f22341",
      "protocolProfileBehavior": {
        "disableBodyPruning": true
      },
      "request": {
        "auth": {
          "type": "bearer",
          "bearer": [
            {
              "key": "token",
              "value": "{{doctor_register_token}}",
              "type": "string"
            }
          ]
        },
        "method": "GET",
        "header": [],
        "body": {
          "mode": "raw",
          "raw": "",
          "options": {
            "raw": {
              "language": "json"
            }
          }
        },
        "url": {
          "raw": "{{gateway_url}}/api/patients/records/",
          "host": [
            "{{gateway_url}}"
          ],
          "path": [
            "api",
            "patients",
            "records",
            ""
          ]
        }
      },
      "response": []
    },
    {
      "name": "Append Patient Visit History",
      "event": [
        {
          "listen": "test",
          "script": {
            "id": "43b9b255-a5c0-4f43-a306-2dca5df76f8a",
            "exec": [
              "pm.test(\"Successful PATCH request\", function () {",
              "    pm.expect(pm.response.code).to.be.oneOf([200, 201]);",
              "});",
              ""
            ],
            "type": "text/javascript",
            "packages": {},
            "requests": {}
          }
        },
        {
          "listen": "prerequest",
          "script": {
            "id": "d3188274-f019-43af-b321-7a2f03b7fdfd",
            "exec": [
              ""
            ],
            "type": "text/javascript",
            "packages": {},
            "requests": {}
          }
        }
      ],
      "id": "8a67cb97-4ea4-42fd-947e-ad011f6d95db",
      "protocolProfileBehavior": {
        "disableBodyPruning": true
      },
      "request": {
        "auth": {
          "type": "bearer",
          "bearer": [
            {
              "key": "token",
              "value": "{{doctor_register_token}}",
              "type": "string"
            }
          ]
        },
        "method": "PATCH",
        "header": [],
        "body": {
          "mode": "raw",
          "raw": "{\n  \"servicePoint\": \"A&E\",\n  \"entryRoute\": \"A&E\",\n  \"diseases\": [\"asthma\", \"hypertension\"],\n  \"referralDetails\": \"Refer to cardiology for further evaluation\"\n}",
          "options": {
            "raw": {
              "language": "json"
            }
          }
        },
        "url": {
          "raw": "{{gateway_url}}/api/patients/records/{{diag_patient_id}}/visits",
          "host": [
            "{{gateway_url}}"
          ],
          "path": [
            "api",
            "patients",
            "records",
            "{{diag_patient_id}}",
            "visits"
          ]
        }
      },
      "response": []
    },
    {
      "name": "Append Nursing Note",
      "event": [
        {
          "listen": "test",
          "script": {
            "id": "183160f4-2f6f-4af5-8f0f-cd7ca3339f36",
            "exec": [
              "pm.test(\"Successful PATCH request\", function () {",
              "    pm.expect(pm.response.code).to.be.oneOf([200, 201]);",
              "});",
              ""
            ],
            "type": "text/javascript",
            "packages": {},
            "requests": {}
          }
        },
        {
          "listen": "prerequest",
          "script": {
            "id": "5dce680b-6af2-40ab-933d-13cdfebd0851",
            "exec": [
              ""
            ],
            "type": "text/javascript",
            "packages": {},
            "requests": {}
          }
        }
      ],
      "id": "f6e9f777-af5b-49ac-8bcf-1aa79850fd1d",
      "protocolProfileBehavior": {
        "disableBodyPruning": true
      },
      "request": {
        "auth": {
          "type": "bearer",
          "bearer": [
            {
              "key": "token",
              "value": "{{nurse_register_token}}",
              "type": "string"
            }
          ]
        },
        "method": "PATCH",
        "header": [],
        "body": {
          "mode": "raw",
          "raw": "{\n  \"medicines\": [\"paracetamol 500mg\", \"normal saline\"],\n  \"treatmentDetails\": \"Wound dressing and IV fluid monitoring\",\n  \"intakeOutput\": \"Intake 1200ml, output 900ml\",\n  \"recordedAt\": \"2026-02-20T15:30:00.000Z\"\n}",
          "options": {
            "raw": {
              "language": "json"
            }
          }
        },
        "url": {
          "raw": "{{gateway_url}}/api/patients/records/{{diag_patient_id}}/nursing-notes",
          "host": [
            "{{gateway_url}}"
          ],
          "path": [
            "api",
            "patients",
            "records",
            "{{diag_patient_id}}",
            "nursing-notes"
          ]
        }
      },
      "response": []
    },
    {
      "name": "Record Patient Vitals",
      "event": [
        {
          "listen": "test",
          "script": {
            "id": "vitals-record-test",
            "exec": [
              "pm.test(\"Status code is 201\", function () {",
              "    pm.response.to.have.status(201);",
              "});"
            ],
            "type": "text/javascript",
            "packages": {},
            "requests": {}
          }
        },
        {
          "listen": "prerequest",
          "script": {
            "id": "2c69d76e-014c-4ea6-b46c-c235fc3e02a0",
            "exec": [
              ""
            ],
            "type": "text/javascript",
            "packages": {},
            "requests": {}
          }
        }
      ],
      "id": "vitals-record-request",
      "protocolProfileBehavior": {
        "disableBodyPruning": true
      },
      "request": {
        "auth": {
          "type": "bearer",
          "bearer": [
            {
              "key": "token",
              "value": "{{doctor_register_token}}",
              "type": "string"
            }
          ]
        },
        "method": "POST",
        "header": [],
        "body": {
          "mode": "raw",
          "raw": "{\n  \"temperature\": 37.2,\n  \"bp_systolic\": 120,\n  \"bp_diastolic\": 80,\n  \"pulse\": 76,\n  \"source\": \"manual\"\n}",
          "options": {
            "raw": {
              "language": "json"
            }
          }
        },
        "url": {
          "raw": "{{diagnostics_vitals_url}}/api/vitals/{{diag_patient_id}}",
          "host": [
            "{{diagnostics_vitals_url}}"
          ],
          "path": [
            "api",
            "vitals",
            "{{diag_patient_id}}"
          ]
        }
      },
      "response": []
    },
    {
      "name": "Get Recent Patient Vitals",
      "event": [
        {
          "listen": "test",
          "script": {
            "id": "vitals-get-test",
            "exec": [
              "pm.test(\"Status code is 200\", function () {",
              "    pm.response.to.have.status(200);",
              "});"
            ],
            "type": "text/javascript",
            "packages": {},
            "requests": {}
          }
        }
      ],
      "id": "vitals-get-request",
      "protocolProfileBehavior": {
        "disableBodyPruning": true
      },
      "request": {
        "auth": {
          "type": "bearer",
          "bearer": [
            {
              "key": "token",
              "value": "{{doctor_register_token}}",
              "type": "string"
            }
          ]
        },
        "method": "GET",
        "header": [],
        "url": {
          "raw": "{{gateway_url}}/api/vitals/{{diag_patient_id}}",
          "host": [
            "{{gateway_url}}"
          ],
          "path": [
            "api",
            "vitals",
            "{{diag_patient_id}}"
          ]
        }
      },
      "response": []
    },
    {
      "name": "All Diagnostic Results",
      "event": [
        {
          "listen": "test",
          "script": {
            "id": "0effb736-1371-4b33-bb0c-a9433ea0a315",
            "exec": [
              "pm.test(\"Status code is 200\", function () {",
              "    pm.response.to.have.status(200);",
              "});"
            ],
            "type": "text/javascript",
            "packages": {},
            "requests": {}
          }
        },
        {
          "listen": "prerequest",
          "script": {
            "id": "58ad9cdb-56a4-46bc-a329-40d50a329723",
            "exec": [
              ""
            ],
            "type": "text/javascript",
            "packages": {},
            "requests": {}
          }
        }
      ],
      "id": "5ca1d6ea-72e3-4981-83c8-75f9be59fe2e",
      "protocolProfileBehavior": {
        "disableBodyPruning": true
      },
      "request": {
        "auth": {
          "type": "bearer",
          "bearer": [
            {
              "key": "token",
              "value": "{{doctor_register_token}}",
              "type": "string"
            }
          ]
        },
        "method": "GET",
        "header": [],
        "url": {
          "raw": "{{gateway_url}}/api/diagnostics?patientId={{diag_patient_id}}&machineType=CT&status=critical&page=1&limit=20",
          "host": [
            "{{gateway_url}}"
          ],
          "path": [
            "api",
            "diagnostics"
          ],
          "query": [
            {
              "key": "patientId",
              "value": "{{diag_patient_id}}"
            },
            {
              "key": "machineType",
              "value": "CT"
            },
            {
              "key": "status",
              "value": "critical"
            },
            {
              "key": "page",
              "value": "1"
            },
            {
              "key": "limit",
              "value": "20"
            }
          ]
        }
      },
      "response": []
    },
    {
      "name": "Import results from machine",
      "event": [
        {
          "listen": "test",
          "script": {
            "id": "0effb736-1371-4b33-bb0c-a9433ea0a315",
            "exec": [
              "pm.test(\"Status code is 201\", function () {",
              "    pm.response.to.have.status(201);",
              "});",
              "const json = pm.response.json();",
              "if (json && json.data && json.data.length) {",
              "    pm.collectionVariables.set(\"diag_result_id\", json.data[0]._id);",
              "}"
            ],
            "type": "text/javascript",
            "packages": {},
            "requests": {}
          }
        },
        {
          "listen": "prerequest",
          "script": {
            "id": "58ad9cdb-56a4-46bc-a329-40d50a329723",
            "exec": [
              ""
            ],
            "type": "text/javascript",
            "packages": {},
            "requests": {}
          }
        }
      ],
      "id": "e306a00f-d93b-46a3-8dc9-eda082779902",
      "protocolProfileBehavior": {
        "disableBodyPruning": true
      },
      "request": {
        "auth": {
          "type": "bearer",
          "bearer": [
            {
              "key": "token",
              "value": "{{doctor_register_token}}",
              "type": "string"
            }
          ]
        },
        "method": "POST",
        "header": [],
        "body": {
          "mode": "raw",
          "raw": "{\n  \"patientId\": \"{{diag_patient_id}}\",\n  \"machineId\": \"XRAY-01\"\n}",
          "options": {
            "raw": {
              "language": "json"
            }
          }
        },
        "url": {
          "raw": "{{gateway_url}}/api/diagnostics/import/{{diag_machine_type}}",
          "host": [
            "{{gateway_url}}"
          ],
          "path": [
            "api",
            "diagnostics",
            "import",
            "{{diag_machine_type}}"
          ]
        }
      },
      "response": []
    },
    {
      "name": "Import results from machine Copy",
      "event": [
        {
          "listen": "test",
          "script": {
            "id": "0effb736-1371-4b33-bb0c-a9433ea0a315",
            "exec": [
              "pm.test(\"Status code is 200\", function () {",
              "    pm.response.to.have.status(200);",
              "});"
            ],
            "type": "text/javascript",
            "packages": {},
            "requests": {}
          }
        },
        {
          "listen": "prerequest",
          "script": {
            "id": "58ad9cdb-56a4-46bc-a329-40d50a329723",
            "exec": [
              ""
            ],
            "type": "text/javascript",
            "packages": {},
            "requests": {}
          }
        }
      ],
      "id": "f0f55968-b602-4084-b885-8727d852e28d",
      "protocolProfileBehavior": {
        "disableBodyPruning": true
      },
      "request": {
        "auth": {
          "type": "bearer",
          "bearer": [
            {
              "key": "token",
              "value": "{{doctor_register_token}}",
              "type": "string"
            }
          ]
        },
        "method": "GET",
        "header": [],
        "url": {
          "raw": "{{gateway_url}}/api/diagnostics/critical?patientId={{diag_patient_id}}",
          "host": [
            "{{gateway_url}}"
          ],
          "path": [
            "api",
            "diagnostics",
            "critical"
          ],
          "query": [
            {
              "key": "patientId",
              "value": "{{diag_patient_id}}",
              "uuid": "0729189a-47f5-4371-a6fb-92ca9b6582d2"
            }
          ]
        }
      },
      "response": []
    },
    {
      "name": "Diagnostics Stats For Patient",
      "event": [
        {
          "listen": "test",
          "script": {
            "id": "diag-stats-test",
            "exec": [
              "pm.test(\"Status code is 200\", function () {",
              "    pm.response.to.have.status(200);",
              "});"
            ],
            "type": "text/javascript",
            "packages": {},
            "requests": {}
          }
        }
      ],
      "id": "diag-stats-request",
      "protocolProfileBehavior": {
        "disableBodyPruning": true
      },
      "request": {
        "auth": {
          "type": "bearer",
          "bearer": [
            {
              "key": "token",
              "value": "{{doctor_register_token}}",
              "type": "string"
            }
          ]
        },
        "method": "GET",
        "header": [],
        "url": {
          "raw": "{{gateway_url}}/api/diagnostics/stats?patientId={{diag_patient_id}}",
          "host": [
            "{{gateway_url}}"
          ],
          "path": [
            "api",
            "diagnostics",
            "stats"
          ],
          "query": [
            {
              "key": "patientId",
              "value": "{{diag_patient_id}}"
            }
          ]
        }
      },
      "response": []
    },
    {
      "name": "Diagnostics By Machine",
      "event": [
        {
          "listen": "test",
          "script": {
            "id": "diag-machine-test",
            "exec": [
              "pm.test(\"Status code is 200\", function () {",
              "    pm.response.to.have.status(200);",
              "});"
            ],
            "type": "text/javascript",
            "packages": {},
            "requests": {}
          }
        },
        {
          "listen": "prerequest",
          "script": {
            "id": "58eff697-8abc-4926-979f-334154a2b2ee",
            "exec": [
              ""
            ],
            "type": "text/javascript",
            "packages": {},
            "requests": {}
          }
        }
      ],
      "id": "diag-machine-request",
      "protocolProfileBehavior": {
        "disableBodyPruning": true
      },
      "request": {
        "auth": {
          "type": "bearer",
          "bearer": [
            {
              "key": "token",
              "value": "{{doctor_register_token}}",
              "type": "string"
            }
          ]
        },
        "method": "GET",
        "header": [],
        "url": {
          "raw": "{{gateway_url}}/api/diagnostics/machine/{{diag_machine_type}}?patientId={{diag_patient_id}}",
          "host": [
            "{{gateway_url}}"
          ],
          "path": [
            "api",
            "diagnostics",
            "machine",
            "{{diag_machine_type}}"
          ],
          "query": [
            {
              "key": "patientId",
              "value": "{{diag_patient_id}}",
              "uuid": "6abe7e4b-b4a0-415f-a015-0f40f79bca79"
            }
          ]
        }
      },
      "response": []
    },
    {
      "name": "Diagnostics By Patient",
      "event": [
        {
          "listen": "test",
          "script": {
            "id": "diag-by-patient-test",
            "exec": [
              "pm.test(\"Status code is 200\", function () {",
              "    pm.response.to.have.status(200);",
              "});"
            ],
            "type": "text/javascript",
            "packages": {},
            "requests": {}
          }
        }
      ],
      "id": "diag-by-patient-request",
      "protocolProfileBehavior": {
        "disableBodyPruning": true
      },
      "request": {
        "auth": {
          "type": "bearer",
          "bearer": [
            {
              "key": "token",
              "value": "{{doctor_register_token}}",
              "type": "string"
            }
          ]
        },
        "method": "GET",
        "header": [],
        "url": {
          "raw": "{{gateway_url}}/api/diagnostics/patient/{{diag_patient_id}}",
          "host": [
            "{{gateway_url}}"
          ],
          "path": [
            "api",
            "diagnostics",
            "patient",
            "{{diag_patient_id}}"
          ]
        }
      },
      "response": []
    },
    {
      "name": "Diagnostic By ID",
      "event": [
        {
          "listen": "test",
          "script": {
            "id": "diag-by-id-test",
            "exec": [
              "pm.test(\"Status code is 200\", function () {",
              "    pm.response.to.have.status(200);",
              "});"
            ],
            "type": "text/javascript",
            "packages": {},
            "requests": {}
          }
        }
      ],
      "id": "diag-by-id-request",
      "protocolProfileBehavior": {
        "disableBodyPruning": true
      },
      "request": {
        "auth": {
          "type": "bearer",
          "bearer": [
            {
              "key": "token",
              "value": "{{doctor_register_token}}",
              "type": "string"
            }
          ]
        },
        "method": "GET",
        "header": [],
        "url": {
          "raw": "{{gateway_url}}/api/diagnostics/{{diag_result_id}}",
          "host": [
            "{{gateway_url}}"
          ],
          "path": [
            "api",
            "diagnostics",
            "{{diag_result_id}}"
          ]
        }
      },
      "response": []
    },
    {
      "name": "Verify Diagnostic Result",
      "event": [
        {
          "listen": "test",
          "script": {
            "id": "diag-verify-test",
            "exec": [
              "pm.test(\"Status code is 200\", function () {",
              "    pm.response.to.have.status(200);",
              "});"
            ],
            "type": "text/javascript",
            "packages": {},
            "requests": {}
          }
        }
      ],
      "id": "diag-verify-request",
      "protocolProfileBehavior": {
        "disableBodyPruning": true
      },
      "request": {
        "auth": {
          "type": "bearer",
          "bearer": [
            {
              "key": "token",
              "value": "{{doctor_register_token}}",
              "type": "string"
            }
          ]
        },
        "method": "PATCH",
        "header": [],
        "url": {
          "raw": "{{gateway_url}}/api/diagnostics/{{diag_result_id}}/verify",
          "host": [
            "{{gateway_url}}"
          ],
          "path": [
            "api",
            "diagnostics",
            "{{diag_result_id}}",
            "verify"
          ]
        }
      },
      "response": []
    }
  ],
  "variable": [
    {
      "id": "43121f22-a9af-49e3-b7b3-021492b83017",
      "key": "gateway_url",
      "value": ""
    },
    {
      "id": "f1e635af-da48-4935-99b5-bbdac6ddb966",
      "key": "auth_url",
      "value": ""
    },
    {
      "id": "6644fe53-27ba-450c-877f-69dd3a58ed72",
      "key": "patient_reg_url",
      "value": ""
    },
    {
      "id": "d0c0b387-f0ef-4522-b89f-bc269b63f9b2",
      "key": "diagnostics_vitals_url",
      "value": ""
    },
    {
      "id": "2286321e-5bdc-4f09-8e73-af101695cce1",
      "key": "doctor_register_email",
      "value": ""
    },
    {
      "id": "a88571d7-ac15-4b32-894f-97355a3b2f5d",
      "key": "nurse_register_email",
      "value": ""
    },
    {
      "id": "17281a05-fbe5-4a60-8cfe-11a70be6cedf",
      "key": "clerk_register_email",
      "value": ""
    },
    {
      "id": "ee589c06-9227-491e-baa1-cfdd40a9e5b0",
      "key": "doctor_register_token",
      "value": ""
    },
    {
      "id": "5da0bd79-5b2f-408c-a58a-b2d32c86d2d8",
      "key": "nurse_register_token",
      "value": ""
    },
    {
      "id": "5b8ffffd-a3f3-4cb7-a128-21c42fc2dfe8",
      "key": "clerk_register_token",
      "value": ""
    },
    {
      "id": "34e3b394-8977-4538-a938-912c7f6ab126",
      "key": "diag_patient_id",
      "value": ""
    },
    {
      "id": "00d4468e-7c16-401f-82d4-8ec7cec7b91b",
      "key": "diag_machine_type",
      "value": "XRAY"
    },
    {
      "id": "2b10fb75-cc5f-4bd1-a518-6d0a284e3be4",
      "key": "diag_result_id",
      "value": ""
    }
  ]
}